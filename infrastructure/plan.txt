[0m[1mmodule.network.data.aws_availability_zones.available: Reading...[0m[0m
[0m[1mmodule.network.data.aws_availability_zones.available: Read complete after 1s [id=ap-south-1][0m

Terraform used the selected providers to generate the following execution
plan. Resource actions are indicated with the following symbols:
  [32m+[0m create[0m

Terraform will perform the following actions:

[1m  # module.cicd.aws_codebuild_project.microservices_build[0m will be created
[0m  [32m+[0m[0m resource "aws_codebuild_project" "microservices_build" {
      [32m+[0m[0m arn                  = (known after apply)
      [32m+[0m[0m badge_enabled        = false
      [32m+[0m[0m badge_url            = (known after apply)
      [32m+[0m[0m build_timeout        = 20
      [32m+[0m[0m description          = "Build all microservices docker images"
      [32m+[0m[0m encryption_key       = (known after apply)
      [32m+[0m[0m id                   = (known after apply)
      [32m+[0m[0m name                 = "node-microservices-build"
      [32m+[0m[0m project_visibility   = "PRIVATE"
      [32m+[0m[0m public_project_alias = (known after apply)
      [32m+[0m[0m queued_timeout       = 480
      [32m+[0m[0m service_role         = (known after apply)
      [32m+[0m[0m tags_all             = (known after apply)

      [32m+[0m[0m artifacts {
          [32m+[0m[0m encryption_disabled    = false
          [32m+[0m[0m override_artifact_name = false
          [32m+[0m[0m type                   = "CODEPIPELINE"
        }

      [32m+[0m[0m environment {
          [32m+[0m[0m compute_type                = "BUILD_GENERAL1_SMALL"
          [32m+[0m[0m image                       = "aws/codebuild/standard:7.0"
          [32m+[0m[0m image_pull_credentials_type = "CODEBUILD"
          [32m+[0m[0m privileged_mode             = true
          [32m+[0m[0m type                        = "LINUX_CONTAINER"

          [32m+[0m[0m environment_variable {
              [32m+[0m[0m name  = "AWS_DEFAULT_REGION"
              [32m+[0m[0m type  = "PLAINTEXT"
              [32m+[0m[0m value = "ap-south-1"
            }
          [32m+[0m[0m environment_variable {
              [32m+[0m[0m name  = "PROJECT_NAME"
              [32m+[0m[0m type  = "PLAINTEXT"
              [32m+[0m[0m value = "node-microservices"
            }
        }

      [32m+[0m[0m source {
          [32m+[0m[0m buildspec = "buildspec.yml"
          [32m+[0m[0m type      = "CODEPIPELINE"
        }
    }

[1m  # module.cicd.aws_codedeploy_app.app[0m will be created
[0m  [32m+[0m[0m resource "aws_codedeploy_app" "app" {
      [32m+[0m[0m application_id      = (known after apply)
      [32m+[0m[0m arn                 = (known after apply)
      [32m+[0m[0m compute_platform    = "Server"
      [32m+[0m[0m github_account_name = (known after apply)
      [32m+[0m[0m id                  = (known after apply)
      [32m+[0m[0m linked_to_github    = (known after apply)
      [32m+[0m[0m name                = "node-microservices-app"
      [32m+[0m[0m tags_all            = (known after apply)
    }

[1m  # module.cicd.aws_codedeploy_deployment_group.deployment_group[0m will be created
[0m  [32m+[0m[0m resource "aws_codedeploy_deployment_group" "deployment_group" {
      [32m+[0m[0m app_name                    = "node-microservices-app"
      [32m+[0m[0m arn                         = (known after apply)
      [32m+[0m[0m compute_platform            = (known after apply)
      [32m+[0m[0m deployment_config_name      = "CodeDeployDefault.AllAtOnce"
      [32m+[0m[0m deployment_group_id         = (known after apply)
      [32m+[0m[0m deployment_group_name       = "node-microservices-dg"
      [32m+[0m[0m id                          = (known after apply)
      [32m+[0m[0m outdated_instances_strategy = "UPDATE"
      [32m+[0m[0m service_role_arn            = (known after apply)
      [32m+[0m[0m tags_all                    = (known after apply)
      [32m+[0m[0m termination_hook_enabled    = false

      [32m+[0m[0m blue_green_deployment_config (known after apply)

      [32m+[0m[0m deployment_style {
          [32m+[0m[0m deployment_option = "WITHOUT_TRAFFIC_CONTROL"
          [32m+[0m[0m deployment_type   = "IN_PLACE"
        }

      [32m+[0m[0m ec2_tag_set {
          [32m+[0m[0m ec2_tag_filter {
              [32m+[0m[0m key   = "Name"
              [32m+[0m[0m type  = "KEY_AND_VALUE"
              [32m+[0m[0m value = "node-microservices-ec2"
            }
        }
    }

[1m  # module.cicd.aws_codepipeline.microservices_pipeline[0m will be created
[0m  [32m+[0m[0m resource "aws_codepipeline" "microservices_pipeline" {
      [32m+[0m[0m arn            = (known after apply)
      [32m+[0m[0m execution_mode = "SUPERSEDED"
      [32m+[0m[0m id             = (known after apply)
      [32m+[0m[0m name           = "node-microservices-pipeline"
      [32m+[0m[0m pipeline_type  = "V1"
      [32m+[0m[0m role_arn       = (known after apply)
      [32m+[0m[0m tags_all       = (known after apply)
      [32m+[0m[0m trigger_all    = (known after apply)

      [32m+[0m[0m artifact_store {
          [32m+[0m[0m location = "node-microservices-artifacts"
          [32m+[0m[0m type     = "S3"
            [90m# (1 unchanged attribute hidden)[0m[0m

          [32m+[0m[0m encryption_key {
              [32m+[0m[0m id   = "alias/aws/s3"
              [32m+[0m[0m type = "KMS"
            }
        }

      [32m+[0m[0m stage {
          [32m+[0m[0m name = "Source"

          [32m+[0m[0m action {
              [32m+[0m[0m category         = "Source"
              [32m+[0m[0m configuration    = (known after apply)
              [32m+[0m[0m name             = "GitHub_Source"
              [32m+[0m[0m output_artifacts = [
                  [32m+[0m[0m "source_output",
                ]
              [32m+[0m[0m owner            = "AWS"
              [32m+[0m[0m provider         = "CodeStarSourceConnection"
              [32m+[0m[0m region           = (known after apply)
              [32m+[0m[0m run_order        = (known after apply)
              [32m+[0m[0m version          = "1"
            }
        }
      [32m+[0m[0m stage {
          [32m+[0m[0m name = "Build"

          [32m+[0m[0m action {
              [32m+[0m[0m category         = "Build"
              [32m+[0m[0m configuration    = {
                  [32m+[0m[0m "ProjectName" = "node-microservices-build"
                }
              [32m+[0m[0m input_artifacts  = [
                  [32m+[0m[0m "source_output",
                ]
              [32m+[0m[0m name             = "Docker_Build"
              [32m+[0m[0m output_artifacts = [
                  [32m+[0m[0m "build_output",
                ]
              [32m+[0m[0m owner            = "AWS"
              [32m+[0m[0m provider         = "CodeBuild"
              [32m+[0m[0m region           = (known after apply)
              [32m+[0m[0m run_order        = (known after apply)
              [32m+[0m[0m version          = "1"
            }
        }
      [32m+[0m[0m stage {
          [32m+[0m[0m name = "Deploy"

          [32m+[0m[0m action {
              [32m+[0m[0m category        = "Deploy"
              [32m+[0m[0m configuration   = {
                  [32m+[0m[0m "ApplicationName"     = "node-microservices-app"
                  [32m+[0m[0m "DeploymentGroupName" = "node-microservices-dg"
                }
              [32m+[0m[0m input_artifacts = [
                  [32m+[0m[0m "build_output",
                ]
              [32m+[0m[0m name            = "DeployToEC2"
              [32m+[0m[0m owner           = "AWS"
              [32m+[0m[0m provider        = "CodeDeploy"
              [32m+[0m[0m region          = (known after apply)
              [32m+[0m[0m run_order       = (known after apply)
              [32m+[0m[0m version         = "1"
            }
        }
    }

[1m  # module.cicd.aws_codestarconnections_connection.github[0m will be created
[0m  [32m+[0m[0m resource "aws_codestarconnections_connection" "github" {
      [32m+[0m[0m arn               = (known after apply)
      [32m+[0m[0m connection_status = (known after apply)
      [32m+[0m[0m id                = (known after apply)
      [32m+[0m[0m name              = "node-microservices-gc"
      [32m+[0m[0m provider_type     = "GitHub"
      [32m+[0m[0m tags_all          = (known after apply)
    }

[1m  # module.cicd.aws_s3_bucket.artifact_bucket[0m will be created
[0m  [32m+[0m[0m resource "aws_s3_bucket" "artifact_bucket" {
      [32m+[0m[0m acceleration_status         = (known after apply)
      [32m+[0m[0m acl                         = (known after apply)
      [32m+[0m[0m arn                         = (known after apply)
      [32m+[0m[0m bucket                      = "node-microservices-artifacts"
      [32m+[0m[0m bucket_domain_name          = (known after apply)
      [32m+[0m[0m bucket_prefix               = (known after apply)
      [32m+[0m[0m bucket_regional_domain_name = (known after apply)
      [32m+[0m[0m force_destroy               = true
      [32m+[0m[0m hosted_zone_id              = (known after apply)
      [32m+[0m[0m id                          = (known after apply)
      [32m+[0m[0m object_lock_enabled         = (known after apply)
      [32m+[0m[0m policy                      = (known after apply)
      [32m+[0m[0m region                      = (known after apply)
      [32m+[0m[0m request_payer               = (known after apply)
      [32m+[0m[0m tags_all                    = (known after apply)
      [32m+[0m[0m website_domain              = (known after apply)
      [32m+[0m[0m website_endpoint            = (known after apply)

      [32m+[0m[0m cors_rule (known after apply)

      [32m+[0m[0m grant (known after apply)

      [32m+[0m[0m lifecycle_rule (known after apply)

      [32m+[0m[0m logging (known after apply)

      [32m+[0m[0m object_lock_configuration (known after apply)

      [32m+[0m[0m replication_configuration (known after apply)

      [32m+[0m[0m server_side_encryption_configuration (known after apply)

      [32m+[0m[0m versioning (known after apply)

      [32m+[0m[0m website (known after apply)
    }

[1m  # module.cicd.aws_s3_bucket_server_side_encryption_configuration.artifact_encryption[0m will be created
[0m  [32m+[0m[0m resource "aws_s3_bucket_server_side_encryption_configuration" "artifact_encryption" {
      [32m+[0m[0m bucket = (known after apply)
      [32m+[0m[0m id     = (known after apply)

      [32m+[0m[0m rule {
          [32m+[0m[0m apply_server_side_encryption_by_default {
              [32m+[0m[0m sse_algorithm     = "AES256"
                [90m# (1 unchanged attribute hidden)[0m[0m
            }
        }
    }

[1m  # module.cicd.aws_s3_bucket_versioning.artifact_versioning[0m will be created
[0m  [32m+[0m[0m resource "aws_s3_bucket_versioning" "artifact_versioning" {
      [32m+[0m[0m bucket = (known after apply)
      [32m+[0m[0m id     = (known after apply)

      [32m+[0m[0m versioning_configuration {
          [32m+[0m[0m mfa_delete = (known after apply)
          [32m+[0m[0m status     = "Enabled"
        }
    }

[1m  # module.ec2.aws_instance.app[0m will be created
[0m  [32m+[0m[0m resource "aws_instance" "app" {
      [32m+[0m[0m ami                                  = "ami-019715e0d74f695be"
      [32m+[0m[0m arn                                  = (known after apply)
      [32m+[0m[0m associate_public_ip_address          = true
      [32m+[0m[0m availability_zone                    = (known after apply)
      [32m+[0m[0m cpu_core_count                       = (known after apply)
      [32m+[0m[0m cpu_threads_per_core                 = (known after apply)
      [32m+[0m[0m disable_api_stop                     = (known after apply)
      [32m+[0m[0m disable_api_termination              = (known after apply)
      [32m+[0m[0m ebs_optimized                        = (known after apply)
      [32m+[0m[0m enable_primary_ipv6                  = (known after apply)
      [32m+[0m[0m get_password_data                    = false
      [32m+[0m[0m host_id                              = (known after apply)
      [32m+[0m[0m host_resource_group_arn              = (known after apply)
      [32m+[0m[0m iam_instance_profile                 = "node-microservices-instance-profile"
      [32m+[0m[0m id                                   = (known after apply)
      [32m+[0m[0m instance_initiated_shutdown_behavior = (known after apply)
      [32m+[0m[0m instance_lifecycle                   = (known after apply)
      [32m+[0m[0m instance_state                       = (known after apply)
      [32m+[0m[0m instance_type                        = "t3.medium"
      [32m+[0m[0m ipv6_address_count                   = (known after apply)
      [32m+[0m[0m ipv6_addresses                       = (known after apply)
      [32m+[0m[0m key_name                             = "my-key"
      [32m+[0m[0m monitoring                           = (known after apply)
      [32m+[0m[0m outpost_arn                          = (known after apply)
      [32m+[0m[0m password_data                        = (known after apply)
      [32m+[0m[0m placement_group                      = (known after apply)
      [32m+[0m[0m placement_partition_number           = (known after apply)
      [32m+[0m[0m primary_network_interface_id         = (known after apply)
      [32m+[0m[0m private_dns                          = (known after apply)
      [32m+[0m[0m private_ip                           = (known after apply)
      [32m+[0m[0m public_dns                           = (known after apply)
      [32m+[0m[0m public_ip                            = (known after apply)
      [32m+[0m[0m secondary_private_ips                = (known after apply)
      [32m+[0m[0m security_groups                      = (known after apply)
      [32m+[0m[0m source_dest_check                    = true
      [32m+[0m[0m spot_instance_request_id             = (known after apply)
      [32m+[0m[0m subnet_id                            = (known after apply)
      [32m+[0m[0m tags                                 = {
          [32m+[0m[0m "Name" = "node-microservices-ec2"
        }
      [32m+[0m[0m tags_all                             = {
          [32m+[0m[0m "Name" = "node-microservices-ec2"
        }
      [32m+[0m[0m tenancy                              = (known after apply)
      [32m+[0m[0m user_data                            = (known after apply)
      [32m+[0m[0m user_data_base64                     = "IyEvYmluL2Jhc2gKc2V0IC1ldXhvIHBpcGVmYWlsCgpleGVjID4gPih0ZWUgL3Zhci9sb2cvdXNlci1kYXRhLmxvZyB8IGxvZ2dlciAtdCB1c2VyLWRhdGEgLXMgMj4vZGV2L2NvbnNvbGUpIDI+JjEKCmVjaG8gIj09PT09IFN0YXJ0aW5nIEVDMiBCb290c3RyYXAgPT09PT0iCgp0cmFwICdlY2hvICJFUlJPUiBvbiBsaW5lICRMSU5FTk8iOyBleGl0IDEnIEVSUgoKZXhwb3J0IERFQklBTl9GUk9OVEVORD1ub25pbnRlcmFjdGl2ZQoKIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwojIFdhaXQgZm9yIGFwdCBsb2NrCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKZWNobyAiV2FpdGluZyBmb3IgYXB0IGxvY2suLi4iCndoaWxlIGZ1c2VyIC92YXIvbGliL2Rwa2cvbG9jay1mcm9udGVuZCA+L2Rldi9udWxsIDI+JjE7IGRvCiAgc2xlZXAgNQpkb25lCgojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCiMgRGV0ZWN0IFJlZ2lvbgojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjClRPS0VOPSQoY3VybCAtcyAtWCBQVVQgImh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L2FwaS90b2tlbiIgXAogIC1IICJYLWF3cy1lYzItbWV0YWRhdGEtdG9rZW4tdHRsLXNlY29uZHM6IDIxNjAwIikKClJFR0lPTj0kKGN1cmwgLXMgXAogIC1IICJYLWF3cy1lYzItbWV0YWRhdGEtdG9rZW46ICRUT0tFTiIgXAogIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L2R5bmFtaWMvaW5zdGFuY2UtaWRlbnRpdHkvZG9jdW1lbnQgXAogIHwgZ3JlcCByZWdpb24gXAogIHwgYXdrIC1GXCIgJ3twcmludCAkNH0nKQoKaWYgWyAteiAiJFJFR0lPTiIgXTsgdGhlbgogIGVjaG8gIkZhaWxlZCB0byBkZXRlY3QgcmVnaW9uIgogIGV4aXQgMQpmaQoKZWNobyAiRGV0ZWN0ZWQgcmVnaW9uOiAkUkVHSU9OIgpleHBvcnQgQVdTX1JFR0lPTj0iJFJFR0lPTiIKCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKIyBVcGRhdGUgU3lzdGVtCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKYXB0LWdldCBjbGVhbgpybSAtcmYgL3Zhci9saWIvYXB0L2xpc3RzLyoKYXB0LWdldCB1cGRhdGUgLXkKYXB0LWdldCB1cGdyYWRlIC15CmFwdC1nZXQgaW5zdGFsbCAteSBqcQphcHQtZ2V0IGluc3RhbGwgLXkgXAogIGNhLWNlcnRpZmljYXRlcyBcCiAgY3VybCBcCiAgZ251cGcgXAogIGxzYi1yZWxlYXNlIFwKICB1bnppcCBcCiAgd2dldCBcCiAgZ2l0IFwKICBydWJ5LWZ1bGwgXAogIHNvZnR3YXJlLXByb3BlcnRpZXMtY29tbW9uCgojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCiMgSW5zdGFsbCBEb2NrZXIKIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwppbnN0YWxsIC1tIDA3NTUgLWQgL2V0Yy9hcHQva2V5cmluZ3MKCmN1cmwgLWZzU0wgaHR0cHM6Ly9kb3dubG9hZC5kb2NrZXIuY29tL2xpbnV4L3VidW50dS9ncGcgXAogIHwgZ3BnIC0tZGVhcm1vciAtbyAvZXRjL2FwdC9rZXlyaW5ncy9kb2NrZXIuZ3BnCgpjaG1vZCBhK3IgL2V0Yy9hcHQva2V5cmluZ3MvZG9ja2VyLmdwZwoKVUJVTlRVX0NPREVOQU1FPSQobHNiX3JlbGVhc2UgLWNzKQoKZWNobyBcCiAgImRlYiBbYXJjaD0kKGRwa2cgLS1wcmludC1hcmNoaXRlY3R1cmUpIHNpZ25lZC1ieT0vZXRjL2FwdC9rZXlyaW5ncy9kb2NrZXIuZ3BnXSBcCiAgaHR0cHM6Ly9kb3dubG9hZC5kb2NrZXIuY29tL2xpbnV4L3VidW50dSBcCiAgJHtVQlVOVFVfQ09ERU5BTUV9IHN0YWJsZSIgXAogID4gL2V0Yy9hcHQvc291cmNlcy5saXN0LmQvZG9ja2VyLmxpc3QKCmFwdC1nZXQgdXBkYXRlIC15CgphcHQtZ2V0IGluc3RhbGwgLXkgXAogIGRvY2tlci1jZSBcCiAgZG9ja2VyLWNlLWNsaSBcCiAgY29udGFpbmVyZC5pbyBcCiAgZG9ja2VyLWJ1aWxkeC1wbHVnaW4gXAogIGRvY2tlci1jb21wb3NlLXBsdWdpbgoKc3lzdGVtY3RsIGVuYWJsZSBkb2NrZXIKc3lzdGVtY3RsIHN0YXJ0IGRvY2tlcgpzbGVlcCAxNQoKaWYgISBzeXN0ZW1jdGwgaXMtYWN0aXZlIC0tcXVpZXQgZG9ja2VyOyB0aGVuCiAgZWNobyAiRG9ja2VyIGZhaWxlZCB0byBzdGFydCIKICBleGl0IDEKZmkKCnVzZXJtb2QgLWFHIGRvY2tlciB1YnVudHUKCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKIyBJbnN0YWxsIEFXUyBDTEkgdjIKIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwpjZCAvdG1wCmN1cmwgLXMgImh0dHBzOi8vYXdzY2xpLmFtYXpvbmF3cy5jb20vYXdzY2xpLWV4ZS1saW51eC14ODZfNjQuemlwIiAtbyAiYXdzY2xpdjIuemlwIgp1bnppcCAtbyBhd3NjbGl2Mi56aXAKLi9hd3MvaW5zdGFsbAoKIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwojIEluc3RhbGwgbmdyb2sKIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwpjZCAvdG1wCndnZXQgLXEgaHR0cHM6Ly9iaW4uZXF1aW5veC5pby9jL2JOeWoxbVFWWTRjL25ncm9rLXYzLXN0YWJsZS1saW51eC1hbWQ2NC50Z3oKdGFyIC14emYgbmdyb2stdjMtc3RhYmxlLWxpbnV4LWFtZDY0LnRnegptdiBuZ3JvayAvdXNyL2xvY2FsL2Jpbi8KY2htb2QgK3ggL3Vzci9sb2NhbC9iaW4vbmdyb2sKCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKIyBGZXRjaCBuZ3JvayB0b2tlbgojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCk5HUk9LX1RPS0VOPSQoYXdzIHNlY3JldHNtYW5hZ2VyIGdldC1zZWNyZXQtdmFsdWUgXAogIC0tc2VjcmV0LWlkIG5vZGUtbWljcm9zZXJ2aWNlcy1uZ3Jvay10b2tlbiBcCiAgLS1yZWdpb24gIiRBV1NfUkVHSU9OIiBcCiAgLS1xdWVyeSBTZWNyZXRTdHJpbmcgXAogIC0tb3V0cHV0IHRleHQpCgppZiBbIC16ICIkTkdST0tfVE9LRU4iIF07IHRoZW4KICBlY2hvICJFUlJPUjogTkdST0sgdG9rZW4gbm90IGZvdW5kIgogIGV4aXQgMQpmaQoKbWtkaXIgLXAgL3Jvb3QvLmNvbmZpZy9uZ3JvawoKbmdyb2sgY29uZmlnIGFkZC1hdXRodG9rZW4gIiROR1JPS19UT0tFTiIgXAogIC0tY29uZmlnIC9yb290Ly5jb25maWcvbmdyb2svbmdyb2sueW1sCgojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCiMgQ3JlYXRlIHN5c3RlbWQgc2VydmljZSAoRE8gTk9UIFNUQVJUIEhFUkUpCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKY2F0IDw8RU9GID4gL2V0Yy9zeXN0ZW1kL3N5c3RlbS9uZ3Jvay5zZXJ2aWNlCltVbml0XQpEZXNjcmlwdGlvbj1uZ3JvayB0dW5uZWwKQWZ0ZXI9bmV0d29yay50YXJnZXQgZG9ja2VyLnNlcnZpY2UKUmVxdWlyZXM9ZG9ja2VyLnNlcnZpY2UKCltTZXJ2aWNlXQpUeXBlPXNpbXBsZQpFeGVjU3RhcnQ9L3Vzci9sb2NhbC9iaW4vbmdyb2sgaHR0cCA4MDAwIC0tY29uZmlnIC9yb290Ly5jb25maWcvbmdyb2svbmdyb2sueW1sClJlc3RhcnQ9YWx3YXlzClJlc3RhcnRTZWM9NQpVc2VyPXJvb3QKCltJbnN0YWxsXQpXYW50ZWRCeT1tdWx0aS11c2VyLnRhcmdldApFT0YKCnN5c3RlbWN0bCBkYWVtb24tcmVsb2FkCnN5c3RlbWN0bCBlbmFibGUgbmdyb2sKCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKIyBJbnN0YWxsIENvZGVEZXBsb3kgQWdlbnQKIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwpjZCAvaG9tZS91YnVudHUKCndnZXQgLXEgaHR0cHM6Ly9hd3MtY29kZWRlcGxveS0ke1JFR0lPTn0uczMuJHtSRUdJT059LmFtYXpvbmF3cy5jb20vbGF0ZXN0L2luc3RhbGwgfHwgXAp3Z2V0IC1xIGh0dHBzOi8vYXdzLWNvZGVkZXBsb3ktJHtSRUdJT059LnMzLmFtYXpvbmF3cy5jb20vbGF0ZXN0L2luc3RhbGwKCmNobW9kICt4IGluc3RhbGwKLi9pbnN0YWxsIGF1dG8KCnN5c3RlbWN0bCBlbmFibGUgY29kZWRlcGxveS1hZ2VudApzeXN0ZW1jdGwgc3RhcnQgY29kZWRlcGxveS1hZ2VudApzbGVlcCA1CgojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCiMgQ3JlYXRlIEFwcGxpY2F0aW9uIERpcmVjdG9yeQojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCm1rZGlyIC1wIC9vcHQvbm9kZS1hcHAKY2hvd24gLVIgdWJ1bnR1OnVidW50dSAvb3B0L25vZGUtYXBwCgplY2hvICI9PT09PSBFQzIgQm9vdHN0cmFwIENvbXBsZXRlID09PT09Ig=="
      [32m+[0m[0m user_data_replace_on_change          = false
      [32m+[0m[0m vpc_security_group_ids               = (known after apply)

      [32m+[0m[0m capacity_reservation_specification (known after apply)

      [32m+[0m[0m cpu_options (known after apply)

      [32m+[0m[0m ebs_block_device (known after apply)

      [32m+[0m[0m enclave_options (known after apply)

      [32m+[0m[0m ephemeral_block_device (known after apply)

      [32m+[0m[0m instance_market_options (known after apply)

      [32m+[0m[0m maintenance_options (known after apply)

      [32m+[0m[0m metadata_options {
          [32m+[0m[0m http_endpoint               = "enabled"
          [32m+[0m[0m http_protocol_ipv6          = "disabled"
          [32m+[0m[0m http_put_response_hop_limit = (known after apply)
          [32m+[0m[0m http_tokens                 = "required"
          [32m+[0m[0m instance_metadata_tags      = (known after apply)
        }

      [32m+[0m[0m network_interface (known after apply)

      [32m+[0m[0m private_dns_name_options (known after apply)

      [32m+[0m[0m root_block_device {
          [32m+[0m[0m delete_on_termination = true
          [32m+[0m[0m device_name           = (known after apply)
          [32m+[0m[0m encrypted             = (known after apply)
          [32m+[0m[0m iops                  = (known after apply)
          [32m+[0m[0m kms_key_id            = (known after apply)
          [32m+[0m[0m tags_all              = (known after apply)
          [32m+[0m[0m throughput            = (known after apply)
          [32m+[0m[0m volume_id             = (known after apply)
          [32m+[0m[0m volume_size           = 30
          [32m+[0m[0m volume_type           = "gp3"
        }
    }

[1m  # module.ecr.aws_ecr_lifecycle_policy.lifecycle["customer"][0m will be created
[0m  [32m+[0m[0m resource "aws_ecr_lifecycle_policy" "lifecycle" {
      [32m+[0m[0m id          = (known after apply)
      [32m+[0m[0m policy      = jsonencode(
            {
              [32m+[0m[0m rules = [
                  [32m+[0m[0m {
                      [32m+[0m[0m action       = {
                          [32m+[0m[0m type = "expire"
                        }
                      [32m+[0m[0m description  = "Expire untagged images"
                      [32m+[0m[0m rulePriority = 1
                      [32m+[0m[0m selection    = {
                          [32m+[0m[0m countNumber = 1
                          [32m+[0m[0m countType   = "imageCountMoreThan"
                          [32m+[0m[0m tagStatus   = "untagged"
                        }
                    },
                  [32m+[0m[0m {
                      [32m+[0m[0m action       = {
                          [32m+[0m[0m type = "expire"
                        }
                      [32m+[0m[0m description  = "Keep last 10 tagged images"
                      [32m+[0m[0m rulePriority = 2
                      [32m+[0m[0m selection    = {
                          [32m+[0m[0m countNumber   = 10
                          [32m+[0m[0m countType     = "imageCountMoreThan"
                          [32m+[0m[0m tagPrefixList = [
                              [32m+[0m[0m "latest",
                            ]
                          [32m+[0m[0m tagStatus     = "tagged"
                        }
                    },
                ]
            }
        )
      [32m+[0m[0m registry_id = (known after apply)
      [32m+[0m[0m repository  = "node-microservices-customer"
    }

[1m  # module.ecr.aws_ecr_lifecycle_policy.lifecycle["gateway"][0m will be created
[0m  [32m+[0m[0m resource "aws_ecr_lifecycle_policy" "lifecycle" {
      [32m+[0m[0m id          = (known after apply)
      [32m+[0m[0m policy      = jsonencode(
            {
              [32m+[0m[0m rules = [
                  [32m+[0m[0m {
                      [32m+[0m[0m action       = {
                          [32m+[0m[0m type = "expire"
                        }
                      [32m+[0m[0m description  = "Expire untagged images"
                      [32m+[0m[0m rulePriority = 1
                      [32m+[0m[0m selection    = {
                          [32m+[0m[0m countNumber = 1
                          [32m+[0m[0m countType   = "imageCountMoreThan"
                          [32m+[0m[0m tagStatus   = "untagged"
                        }
                    },
                  [32m+[0m[0m {
                      [32m+[0m[0m action       = {
                          [32m+[0m[0m type = "expire"
                        }
                      [32m+[0m[0m description  = "Keep last 10 tagged images"
                      [32m+[0m[0m rulePriority = 2
                      [32m+[0m[0m selection    = {
                          [32m+[0m[0m countNumber   = 10
                          [32m+[0m[0m countType     = "imageCountMoreThan"
                          [32m+[0m[0m tagPrefixList = [
                              [32m+[0m[0m "latest",
                            ]
                          [32m+[0m[0m tagStatus     = "tagged"
                        }
                    },
                ]
            }
        )
      [32m+[0m[0m registry_id = (known after apply)
      [32m+[0m[0m repository  = "node-microservices-gateway"
    }

[1m  # module.ecr.aws_ecr_lifecycle_policy.lifecycle["products"][0m will be created
[0m  [32m+[0m[0m resource "aws_ecr_lifecycle_policy" "lifecycle" {
      [32m+[0m[0m id          = (known after apply)
      [32m+[0m[0m policy      = jsonencode(
            {
              [32m+[0m[0m rules = [
                  [32m+[0m[0m {
                      [32m+[0m[0m action       = {
                          [32m+[0m[0m type = "expire"
                        }
                      [32m+[0m[0m description  = "Expire untagged images"
                      [32m+[0m[0m rulePriority = 1
                      [32m+[0m[0m selection    = {
                          [32m+[0m[0m countNumber = 1
                          [32m+[0m[0m countType   = "imageCountMoreThan"
                          [32m+[0m[0m tagStatus   = "untagged"
                        }
                    },
                  [32m+[0m[0m {
                      [32m+[0m[0m action       = {
                          [32m+[0m[0m type = "expire"
                        }
                      [32m+[0m[0m description  = "Keep last 10 tagged images"
                      [32m+[0m[0m rulePriority = 2
                      [32m+[0m[0m selection    = {
                          [32m+[0m[0m countNumber   = 10
                          [32m+[0m[0m countType     = "imageCountMoreThan"
                          [32m+[0m[0m tagPrefixList = [
                              [32m+[0m[0m "latest",
                            ]
                          [32m+[0m[0m tagStatus     = "tagged"
                        }
                    },
                ]
            }
        )
      [32m+[0m[0m registry_id = (known after apply)
      [32m+[0m[0m repository  = "node-microservices-products"
    }

[1m  # module.ecr.aws_ecr_lifecycle_policy.lifecycle["shopping"][0m will be created
[0m  [32m+[0m[0m resource "aws_ecr_lifecycle_policy" "lifecycle" {
      [32m+[0m[0m id          = (known after apply)
      [32m+[0m[0m policy      = jsonencode(
            {
              [32m+[0m[0m rules = [
                  [32m+[0m[0m {
                      [32m+[0m[0m action       = {
                          [32m+[0m[0m type = "expire"
                        }
                      [32m+[0m[0m description  = "Expire untagged images"
                      [32m+[0m[0m rulePriority = 1
                      [32m+[0m[0m selection    = {
                          [32m+[0m[0m countNumber = 1
                          [32m+[0m[0m countType   = "imageCountMoreThan"
                          [32m+[0m[0m tagStatus   = "untagged"
                        }
                    },
                  [32m+[0m[0m {
                      [32m+[0m[0m action       = {
                          [32m+[0m[0m type = "expire"
                        }
                      [32m+[0m[0m description  = "Keep last 10 tagged images"
                      [32m+[0m[0m rulePriority = 2
                      [32m+[0m[0m selection    = {
                          [32m+[0m[0m countNumber   = 10
                          [32m+[0m[0m countType     = "imageCountMoreThan"
                          [32m+[0m[0m tagPrefixList = [
                              [32m+[0m[0m "latest",
                            ]
                          [32m+[0m[0m tagStatus     = "tagged"
                        }
                    },
                ]
            }
        )
      [32m+[0m[0m registry_id = (known after apply)
      [32m+[0m[0m repository  = "node-microservices-shopping"
    }

[1m  # module.ecr.aws_ecr_repository.repos["customer"][0m will be created
[0m  [32m+[0m[0m resource "aws_ecr_repository" "repos" {
      [32m+[0m[0m arn                  = (known after apply)
      [32m+[0m[0m force_delete         = true
      [32m+[0m[0m id                   = (known after apply)
      [32m+[0m[0m image_tag_mutability = "MUTABLE"
      [32m+[0m[0m name                 = "node-microservices-customer"
      [32m+[0m[0m registry_id          = (known after apply)
      [32m+[0m[0m repository_url       = (known after apply)
      [32m+[0m[0m tags                 = {
          [32m+[0m[0m "Name" = "node-microservices-customer"
        }
      [32m+[0m[0m tags_all             = {
          [32m+[0m[0m "Name" = "node-microservices-customer"
        }

      [32m+[0m[0m encryption_configuration {
          [32m+[0m[0m encryption_type = "AES256"
          [32m+[0m[0m kms_key         = (known after apply)
        }

      [32m+[0m[0m image_scanning_configuration {
          [32m+[0m[0m scan_on_push = true
        }
    }

[1m  # module.ecr.aws_ecr_repository.repos["gateway"][0m will be created
[0m  [32m+[0m[0m resource "aws_ecr_repository" "repos" {
      [32m+[0m[0m arn                  = (known after apply)
      [32m+[0m[0m force_delete         = true
      [32m+[0m[0m id                   = (known after apply)
      [32m+[0m[0m image_tag_mutability = "MUTABLE"
      [32m+[0m[0m name                 = "node-microservices-gateway"
      [32m+[0m[0m registry_id          = (known after apply)
      [32m+[0m[0m repository_url       = (known after apply)
      [32m+[0m[0m tags                 = {
          [32m+[0m[0m "Name" = "node-microservices-gateway"
        }
      [32m+[0m[0m tags_all             = {
          [32m+[0m[0m "Name" = "node-microservices-gateway"
        }

      [32m+[0m[0m encryption_configuration {
          [32m+[0m[0m encryption_type = "AES256"
          [32m+[0m[0m kms_key         = (known after apply)
        }

      [32m+[0m[0m image_scanning_configuration {
          [32m+[0m[0m scan_on_push = true
        }
    }

[1m  # module.ecr.aws_ecr_repository.repos["products"][0m will be created
[0m  [32m+[0m[0m resource "aws_ecr_repository" "repos" {
      [32m+[0m[0m arn                  = (known after apply)
      [32m+[0m[0m force_delete         = true
      [32m+[0m[0m id                   = (known after apply)
      [32m+[0m[0m image_tag_mutability = "MUTABLE"
      [32m+[0m[0m name                 = "node-microservices-products"
      [32m+[0m[0m registry_id          = (known after apply)
      [32m+[0m[0m repository_url       = (known after apply)
      [32m+[0m[0m tags                 = {
          [32m+[0m[0m "Name" = "node-microservices-products"
        }
      [32m+[0m[0m tags_all             = {
          [32m+[0m[0m "Name" = "node-microservices-products"
        }

      [32m+[0m[0m encryption_configuration {
          [32m+[0m[0m encryption_type = "AES256"
          [32m+[0m[0m kms_key         = (known after apply)
        }

      [32m+[0m[0m image_scanning_configuration {
          [32m+[0m[0m scan_on_push = true
        }
    }

[1m  # module.ecr.aws_ecr_repository.repos["shopping"][0m will be created
[0m  [32m+[0m[0m resource "aws_ecr_repository" "repos" {
      [32m+[0m[0m arn                  = (known after apply)
      [32m+[0m[0m force_delete         = true
      [32m+[0m[0m id                   = (known after apply)
      [32m+[0m[0m image_tag_mutability = "MUTABLE"
      [32m+[0m[0m name                 = "node-microservices-shopping"
      [32m+[0m[0m registry_id          = (known after apply)
      [32m+[0m[0m repository_url       = (known after apply)
      [32m+[0m[0m tags                 = {
          [32m+[0m[0m "Name" = "node-microservices-shopping"
        }
      [32m+[0m[0m tags_all             = {
          [32m+[0m[0m "Name" = "node-microservices-shopping"
        }

      [32m+[0m[0m encryption_configuration {
          [32m+[0m[0m encryption_type = "AES256"
          [32m+[0m[0m kms_key         = (known after apply)
        }

      [32m+[0m[0m image_scanning_configuration {
          [32m+[0m[0m scan_on_push = true
        }
    }

[1m  # module.iam.aws_iam_instance_profile.ec2_profile[0m will be created
[0m  [32m+[0m[0m resource "aws_iam_instance_profile" "ec2_profile" {
      [32m+[0m[0m arn         = (known after apply)
      [32m+[0m[0m create_date = (known after apply)
      [32m+[0m[0m id          = (known after apply)
      [32m+[0m[0m name        = "node-microservices-instance-profile"
      [32m+[0m[0m name_prefix = (known after apply)
      [32m+[0m[0m path        = "/"
      [32m+[0m[0m role        = "node-microservices-ec2-role"
      [32m+[0m[0m tags_all    = (known after apply)
      [32m+[0m[0m unique_id   = (known after apply)
    }

[1m  # module.iam.aws_iam_policy.ec2_elasticache_minimal[0m will be created
[0m  [32m+[0m[0m resource "aws_iam_policy" "ec2_elasticache_minimal" {
      [32m+[0m[0m arn              = (known after apply)
      [32m+[0m[0m attachment_count = (known after apply)
      [32m+[0m[0m id               = (known after apply)
      [32m+[0m[0m name             = "node-microservices-elasticache-minimal"
      [32m+[0m[0m name_prefix      = (known after apply)
      [32m+[0m[0m path             = "/"
      [32m+[0m[0m policy           = jsonencode(
            {
              [32m+[0m[0m Statement = [
                  [32m+[0m[0m {
                      [32m+[0m[0m Action   = [
                          [32m+[0m[0m "elasticache:DescribeCacheClusters",
                          [32m+[0m[0m "elasticache:DescribeReplicationGroups",
                          [32m+[0m[0m "elasticache:ListTagsForResource",
                        ]
                      [32m+[0m[0m Effect   = "Allow"
                      [32m+[0m[0m Resource = "*"
                    },
                ]
              [32m+[0m[0m Version   = "2012-10-17"
            }
        )
      [32m+[0m[0m policy_id        = (known after apply)
      [32m+[0m[0m tags_all         = (known after apply)
    }

[1m  # module.iam.aws_iam_policy.ec2_s3_artifacts[0m will be created
[0m  [32m+[0m[0m resource "aws_iam_policy" "ec2_s3_artifacts" {
      [32m+[0m[0m arn              = (known after apply)
      [32m+[0m[0m attachment_count = (known after apply)
      [32m+[0m[0m id               = (known after apply)
      [32m+[0m[0m name             = "node-microservices-ec2-s3-artifacts"
      [32m+[0m[0m name_prefix      = (known after apply)
      [32m+[0m[0m path             = "/"
      [32m+[0m[0m policy           = jsonencode(
            {
              [32m+[0m[0m Statement = [
                  [32m+[0m[0m {
                      [32m+[0m[0m Action   = [
                          [32m+[0m[0m "s3:GetObject",
                          [32m+[0m[0m "s3:GetObjectVersion",
                          [32m+[0m[0m "s3:GetBucketLocation",
                          [32m+[0m[0m "s3:ListBucket",
                        ]
                      [32m+[0m[0m Effect   = "Allow"
                      [32m+[0m[0m Resource = [
                          [32m+[0m[0m "arn:aws:s3:::node-microservices-artifacts",
                          [32m+[0m[0m "arn:aws:s3:::node-microservices-artifacts/*",
                        ]
                    },
                ]
              [32m+[0m[0m Version   = "2012-10-17"
            }
        )
      [32m+[0m[0m policy_id        = (known after apply)
      [32m+[0m[0m tags_all         = (known after apply)
    }

[1m  # module.iam.aws_iam_role.codebuild_role[0m will be created
[0m  [32m+[0m[0m resource "aws_iam_role" "codebuild_role" {
      [32m+[0m[0m arn                   = (known after apply)
      [32m+[0m[0m assume_role_policy    = jsonencode(
            {
              [32m+[0m[0m Statement = [
                  [32m+[0m[0m {
                      [32m+[0m[0m Action    = "sts:AssumeRole"
                      [32m+[0m[0m Effect    = "Allow"
                      [32m+[0m[0m Principal = {
                          [32m+[0m[0m Service = "codebuild.amazonaws.com"
                        }
                    },
                ]
              [32m+[0m[0m Version   = "2012-10-17"
            }
        )
      [32m+[0m[0m create_date           = (known after apply)
      [32m+[0m[0m force_detach_policies = false
      [32m+[0m[0m id                    = (known after apply)
      [32m+[0m[0m managed_policy_arns   = (known after apply)
      [32m+[0m[0m max_session_duration  = 3600
      [32m+[0m[0m name                  = "node-microservices-codebuild-role"
      [32m+[0m[0m name_prefix           = (known after apply)
      [32m+[0m[0m path                  = "/"
      [32m+[0m[0m tags_all              = (known after apply)
      [32m+[0m[0m unique_id             = (known after apply)

      [32m+[0m[0m inline_policy (known after apply)
    }

[1m  # module.iam.aws_iam_role.codedeploy_role[0m will be created
[0m  [32m+[0m[0m resource "aws_iam_role" "codedeploy_role" {
      [32m+[0m[0m arn                   = (known after apply)
      [32m+[0m[0m assume_role_policy    = jsonencode(
            {
              [32m+[0m[0m Statement = [
                  [32m+[0m[0m {
                      [32m+[0m[0m Action    = "sts:AssumeRole"
                      [32m+[0m[0m Effect    = "Allow"
                      [32m+[0m[0m Principal = {
                          [32m+[0m[0m Service = "codedeploy.amazonaws.com"
                        }
                    },
                ]
              [32m+[0m[0m Version   = "2012-10-17"
            }
        )
      [32m+[0m[0m create_date           = (known after apply)
      [32m+[0m[0m force_detach_policies = false
      [32m+[0m[0m id                    = (known after apply)
      [32m+[0m[0m managed_policy_arns   = (known after apply)
      [32m+[0m[0m max_session_duration  = 3600
      [32m+[0m[0m name                  = "node-microservices-codedeploy-role"
      [32m+[0m[0m name_prefix           = (known after apply)
      [32m+[0m[0m path                  = "/"
      [32m+[0m[0m tags_all              = (known after apply)
      [32m+[0m[0m unique_id             = (known after apply)

      [32m+[0m[0m inline_policy (known after apply)
    }

[1m  # module.iam.aws_iam_role.codepipeline_role[0m will be created
[0m  [32m+[0m[0m resource "aws_iam_role" "codepipeline_role" {
      [32m+[0m[0m arn                   = (known after apply)
      [32m+[0m[0m assume_role_policy    = jsonencode(
            {
              [32m+[0m[0m Statement = [
                  [32m+[0m[0m {
                      [32m+[0m[0m Action    = "sts:AssumeRole"
                      [32m+[0m[0m Effect    = "Allow"
                      [32m+[0m[0m Principal = {
                          [32m+[0m[0m Service = "codepipeline.amazonaws.com"
                        }
                    },
                ]
              [32m+[0m[0m Version   = "2012-10-17"
            }
        )
      [32m+[0m[0m create_date           = (known after apply)
      [32m+[0m[0m force_detach_policies = false
      [32m+[0m[0m id                    = (known after apply)
      [32m+[0m[0m managed_policy_arns   = (known after apply)
      [32m+[0m[0m max_session_duration  = 3600
      [32m+[0m[0m name                  = "node-microservices-codepipeline-role"
      [32m+[0m[0m name_prefix           = (known after apply)
      [32m+[0m[0m path                  = "/"
      [32m+[0m[0m tags_all              = (known after apply)
      [32m+[0m[0m unique_id             = (known after apply)

      [32m+[0m[0m inline_policy (known after apply)
    }

[1m  # module.iam.aws_iam_role.ec2_role[0m will be created
[0m  [32m+[0m[0m resource "aws_iam_role" "ec2_role" {
      [32m+[0m[0m arn                   = (known after apply)
      [32m+[0m[0m assume_role_policy    = jsonencode(
            {
              [32m+[0m[0m Statement = [
                  [32m+[0m[0m {
                      [32m+[0m[0m Action    = "sts:AssumeRole"
                      [32m+[0m[0m Effect    = "Allow"
                      [32m+[0m[0m Principal = {
                          [32m+[0m[0m Service = "ec2.amazonaws.com"
                        }
                    },
                ]
              [32m+[0m[0m Version   = "2012-10-17"
            }
        )
      [32m+[0m[0m create_date           = (known after apply)
      [32m+[0m[0m force_detach_policies = false
      [32m+[0m[0m id                    = (known after apply)
      [32m+[0m[0m managed_policy_arns   = (known after apply)
      [32m+[0m[0m max_session_duration  = 3600
      [32m+[0m[0m name                  = "node-microservices-ec2-role"
      [32m+[0m[0m name_prefix           = (known after apply)
      [32m+[0m[0m path                  = "/"
      [32m+[0m[0m tags_all              = (known after apply)
      [32m+[0m[0m unique_id             = (known after apply)

      [32m+[0m[0m inline_policy (known after apply)
    }

[1m  # module.iam.aws_iam_role_policy.codepipeline_codebuild_policy[0m will be created
[0m  [32m+[0m[0m resource "aws_iam_role_policy" "codepipeline_codebuild_policy" {
      [32m+[0m[0m id          = (known after apply)
      [32m+[0m[0m name        = "node-microservices-codepipeline-codebuild"
      [32m+[0m[0m name_prefix = (known after apply)
      [32m+[0m[0m policy      = jsonencode(
            {
              [32m+[0m[0m Statement = [
                  [32m+[0m[0m {
                      [32m+[0m[0m Action   = [
                          [32m+[0m[0m "codebuild:StartBuild",
                          [32m+[0m[0m "codebuild:BatchGetBuilds",
                        ]
                      [32m+[0m[0m Effect   = "Allow"
                      [32m+[0m[0m Resource = "*"
                    },
                ]
              [32m+[0m[0m Version   = "2012-10-17"
            }
        )
      [32m+[0m[0m role        = (known after apply)
    }

[1m  # module.iam.aws_iam_role_policy.codepipeline_codedeploy_policy[0m will be created
[0m  [32m+[0m[0m resource "aws_iam_role_policy" "codepipeline_codedeploy_policy" {
      [32m+[0m[0m id          = (known after apply)
      [32m+[0m[0m name        = "node-microservices-codepipeline-codedeploy"
      [32m+[0m[0m name_prefix = (known after apply)
      [32m+[0m[0m policy      = jsonencode(
            {
              [32m+[0m[0m Statement = [
                  [32m+[0m[0m {
                      [32m+[0m[0m Action   = [
                          [32m+[0m[0m "codedeploy:CreateDeployment",
                          [32m+[0m[0m "codedeploy:GetDeployment",
                          [32m+[0m[0m "codedeploy:GetDeploymentConfig",
                          [32m+[0m[0m "codedeploy:RegisterApplicationRevision",
                        ]
                      [32m+[0m[0m Effect   = "Allow"
                      [32m+[0m[0m Resource = "*"
                    },
                ]
              [32m+[0m[0m Version   = "2012-10-17"
            }
        )
      [32m+[0m[0m role        = (known after apply)
    }

[1m  # module.iam.aws_iam_role_policy.codepipeline_codestar_permission[0m will be created
[0m  [32m+[0m[0m resource "aws_iam_role_policy" "codepipeline_codestar_permission" {
      [32m+[0m[0m id          = (known after apply)
      [32m+[0m[0m name        = "node-microservices-codestar-permission"
      [32m+[0m[0m name_prefix = (known after apply)
      [32m+[0m[0m policy      = jsonencode(
            {
              [32m+[0m[0m Statement = [
                  [32m+[0m[0m {
                      [32m+[0m[0m Action   = "codestar-connections:UseConnection"
                      [32m+[0m[0m Effect   = "Allow"
                      [32m+[0m[0m Resource = "*"
                    },
                ]
              [32m+[0m[0m Version   = "2012-10-17"
            }
        )
      [32m+[0m[0m role        = (known after apply)
    }

[1m  # module.iam.aws_iam_role_policy.codepipeline_s3_policy[0m will be created
[0m  [32m+[0m[0m resource "aws_iam_role_policy" "codepipeline_s3_policy" {
      [32m+[0m[0m id          = (known after apply)
      [32m+[0m[0m name        = "node-microservices-codepipeline-s3"
      [32m+[0m[0m name_prefix = (known after apply)
      [32m+[0m[0m policy      = jsonencode(
            {
              [32m+[0m[0m Statement = [
                  [32m+[0m[0m {
                      [32m+[0m[0m Action   = [
                          [32m+[0m[0m "s3:GetObject",
                          [32m+[0m[0m "s3:GetObjectVersion",
                          [32m+[0m[0m "s3:PutObject",
                          [32m+[0m[0m "s3:ListBucket",
                        ]
                      [32m+[0m[0m Effect   = "Allow"
                      [32m+[0m[0m Resource = [
                          [32m+[0m[0m "arn:aws:s3:::node-microservices-artifacts",
                          [32m+[0m[0m "arn:aws:s3:::node-microservices-artifacts/*",
                        ]
                    },
                ]
              [32m+[0m[0m Version   = "2012-10-17"
            }
        )
      [32m+[0m[0m role        = (known after apply)
    }

[1m  # module.iam.aws_iam_role_policy.ec2_messaging_policy[0m will be created
[0m  [32m+[0m[0m resource "aws_iam_role_policy" "ec2_messaging_policy" {
      [32m+[0m[0m id          = (known after apply)
      [32m+[0m[0m name        = "node-microservices-ec2-messaging"
      [32m+[0m[0m name_prefix = (known after apply)
      [32m+[0m[0m policy      = jsonencode(
            {
              [32m+[0m[0m Statement = [
                  [32m+[0m[0m {
                      [32m+[0m[0m Action   = [
                          [32m+[0m[0m "sqs:SendMessage",
                          [32m+[0m[0m "sqs:ReceiveMessage",
                          [32m+[0m[0m "sqs:DeleteMessage",
                          [32m+[0m[0m "sqs:GetQueueAttributes",
                          [32m+[0m[0m "events:PutEvents",
                        ]
                      [32m+[0m[0m Effect   = "Allow"
                      [32m+[0m[0m Resource = "*"
                    },
                ]
              [32m+[0m[0m Version   = "2012-10-17"
            }
        )
      [32m+[0m[0m role        = (known after apply)
    }

[1m  # module.iam.aws_iam_role_policy_attachment.codebuild_ecr[0m will be created
[0m  [32m+[0m[0m resource "aws_iam_role_policy_attachment" "codebuild_ecr" {
      [32m+[0m[0m id         = (known after apply)
      [32m+[0m[0m policy_arn = "arn:aws:iam::aws:policy/AmazonEC2ContainerRegistryPowerUser"
      [32m+[0m[0m role       = "node-microservices-codebuild-role"
    }

[1m  # module.iam.aws_iam_role_policy_attachment.codebuild_logs[0m will be created
[0m  [32m+[0m[0m resource "aws_iam_role_policy_attachment" "codebuild_logs" {
      [32m+[0m[0m id         = (known after apply)
      [32m+[0m[0m policy_arn = "arn:aws:iam::aws:policy/CloudWatchLogsFullAccess"
      [32m+[0m[0m role       = "node-microservices-codebuild-role"
    }

[1m  # module.iam.aws_iam_role_policy_attachment.codebuild_s3[0m will be created
[0m  [32m+[0m[0m resource "aws_iam_role_policy_attachment" "codebuild_s3" {
      [32m+[0m[0m id         = (known after apply)
      [32m+[0m[0m policy_arn = "arn:aws:iam::aws:policy/AmazonS3FullAccess"
      [32m+[0m[0m role       = "node-microservices-codebuild-role"
    }

[1m  # module.iam.aws_iam_role_policy_attachment.codedeploy_policy[0m will be created
[0m  [32m+[0m[0m resource "aws_iam_role_policy_attachment" "codedeploy_policy" {
      [32m+[0m[0m id         = (known after apply)
      [32m+[0m[0m policy_arn = "arn:aws:iam::aws:policy/service-role/AWSCodeDeployRole"
      [32m+[0m[0m role       = "node-microservices-codedeploy-role"
    }

[1m  # module.iam.aws_iam_role_policy_attachment.ec2_cloudwatch[0m will be created
[0m  [32m+[0m[0m resource "aws_iam_role_policy_attachment" "ec2_cloudwatch" {
      [32m+[0m[0m id         = (known after apply)
      [32m+[0m[0m policy_arn = "arn:aws:iam::aws:policy/CloudWatchAgentServerPolicy"
      [32m+[0m[0m role       = "node-microservices-ec2-role"
    }

[1m  # module.iam.aws_iam_role_policy_attachment.ec2_codedeploy[0m will be created
[0m  [32m+[0m[0m resource "aws_iam_role_policy_attachment" "ec2_codedeploy" {
      [32m+[0m[0m id         = (known after apply)
      [32m+[0m[0m policy_arn = "arn:aws:iam::aws:policy/service-role/AmazonEC2RoleforAWSCodeDeployLimited"
      [32m+[0m[0m role       = "node-microservices-ec2-role"
    }

[1m  # module.iam.aws_iam_role_policy_attachment.ec2_ecr[0m will be created
[0m  [32m+[0m[0m resource "aws_iam_role_policy_attachment" "ec2_ecr" {
      [32m+[0m[0m id         = (known after apply)
      [32m+[0m[0m policy_arn = "arn:aws:iam::aws:policy/AmazonEC2ContainerRegistryReadOnly"
      [32m+[0m[0m role       = "node-microservices-ec2-role"
    }

[1m  # module.iam.aws_iam_role_policy_attachment.ec2_elasticache_attach[0m will be created
[0m  [32m+[0m[0m resource "aws_iam_role_policy_attachment" "ec2_elasticache_attach" {
      [32m+[0m[0m id         = (known after apply)
      [32m+[0m[0m policy_arn = (known after apply)
      [32m+[0m[0m role       = "node-microservices-ec2-role"
    }

[1m  # module.iam.aws_iam_role_policy_attachment.ec2_s3_artifacts_attach[0m will be created
[0m  [32m+[0m[0m resource "aws_iam_role_policy_attachment" "ec2_s3_artifacts_attach" {
      [32m+[0m[0m id         = (known after apply)
      [32m+[0m[0m policy_arn = (known after apply)
      [32m+[0m[0m role       = "node-microservices-ec2-role"
    }

[1m  # module.iam.aws_iam_role_policy_attachment.ec2_secrets[0m will be created
[0m  [32m+[0m[0m resource "aws_iam_role_policy_attachment" "ec2_secrets" {
      [32m+[0m[0m id         = (known after apply)
      [32m+[0m[0m policy_arn = "arn:aws:iam::aws:policy/SecretsManagerReadWrite"
      [32m+[0m[0m role       = "node-microservices-ec2-role"
    }

[1m  # module.iam.aws_iam_role_policy_attachment.ec2_ssm[0m will be created
[0m  [32m+[0m[0m resource "aws_iam_role_policy_attachment" "ec2_ssm" {
      [32m+[0m[0m id         = (known after apply)
      [32m+[0m[0m policy_arn = "arn:aws:iam::aws:policy/AmazonSSMManagedInstanceCore"
      [32m+[0m[0m role       = "node-microservices-ec2-role"
    }

[1m  # module.messaging.aws_cloudwatch_event_bus.microservices_bus[0m will be created
[0m  [32m+[0m[0m resource "aws_cloudwatch_event_bus" "microservices_bus" {
      [32m+[0m[0m arn      = (known after apply)
      [32m+[0m[0m id       = (known after apply)
      [32m+[0m[0m name     = "node-microservices-bus"
      [32m+[0m[0m tags_all = (known after apply)
    }

[1m  # module.messaging.aws_cloudwatch_event_rule.customer_created_rule[0m will be created
[0m  [32m+[0m[0m resource "aws_cloudwatch_event_rule" "customer_created_rule" {
      [32m+[0m[0m arn            = (known after apply)
      [32m+[0m[0m event_bus_name = "node-microservices-bus"
      [32m+[0m[0m event_pattern  = jsonencode(
            {
              [32m+[0m[0m detail-type = [
                  [32m+[0m[0m "CustomerCreated",
                ]
              [32m+[0m[0m source      = [
                  [32m+[0m[0m "customer.service",
                ]
            }
        )
      [32m+[0m[0m force_destroy  = false
      [32m+[0m[0m id             = (known after apply)
      [32m+[0m[0m name           = "node-microservices-customer-created-rule"
      [32m+[0m[0m name_prefix    = (known after apply)
      [32m+[0m[0m tags_all       = (known after apply)
    }

[1m  # module.messaging.aws_cloudwatch_event_target.sqs_target[0m will be created
[0m  [32m+[0m[0m resource "aws_cloudwatch_event_target" "sqs_target" {
      [32m+[0m[0m arn            = (known after apply)
      [32m+[0m[0m event_bus_name = "node-microservices-bus"
      [32m+[0m[0m force_destroy  = false
      [32m+[0m[0m id             = (known after apply)
      [32m+[0m[0m rule           = "node-microservices-customer-created-rule"
      [32m+[0m[0m target_id      = (known after apply)
    }

[1m  # module.messaging.aws_sqs_queue.customer_created[0m will be created
[0m  [32m+[0m[0m resource "aws_sqs_queue" "customer_created" {
      [32m+[0m[0m arn                               = (known after apply)
      [32m+[0m[0m content_based_deduplication       = false
      [32m+[0m[0m deduplication_scope               = (known after apply)
      [32m+[0m[0m delay_seconds                     = 0
      [32m+[0m[0m fifo_queue                        = false
      [32m+[0m[0m fifo_throughput_limit             = (known after apply)
      [32m+[0m[0m id                                = (known after apply)
      [32m+[0m[0m kms_data_key_reuse_period_seconds = (known after apply)
      [32m+[0m[0m max_message_size                  = 262144
      [32m+[0m[0m message_retention_seconds         = 86400
      [32m+[0m[0m name                              = "node-microservices-customer-created-queue"
      [32m+[0m[0m name_prefix                       = (known after apply)
      [32m+[0m[0m policy                            = (known after apply)
      [32m+[0m[0m receive_wait_time_seconds         = 0
      [32m+[0m[0m redrive_allow_policy              = (known after apply)
      [32m+[0m[0m redrive_policy                    = (known after apply)
      [32m+[0m[0m sqs_managed_sse_enabled           = (known after apply)
      [32m+[0m[0m tags_all                          = (known after apply)
      [32m+[0m[0m url                               = (known after apply)
      [32m+[0m[0m visibility_timeout_seconds        = 30
    }

[1m  # module.messaging.aws_sqs_queue.customer_created_dlq[0m will be created
[0m  [32m+[0m[0m resource "aws_sqs_queue" "customer_created_dlq" {
      [32m+[0m[0m arn                               = (known after apply)
      [32m+[0m[0m content_based_deduplication       = false
      [32m+[0m[0m deduplication_scope               = (known after apply)
      [32m+[0m[0m delay_seconds                     = 0
      [32m+[0m[0m fifo_queue                        = false
      [32m+[0m[0m fifo_throughput_limit             = (known after apply)
      [32m+[0m[0m id                                = (known after apply)
      [32m+[0m[0m kms_data_key_reuse_period_seconds = (known after apply)
      [32m+[0m[0m max_message_size                  = 262144
      [32m+[0m[0m message_retention_seconds         = 345600
      [32m+[0m[0m name                              = "node-microservices-customer-created-dlq"
      [32m+[0m[0m name_prefix                       = (known after apply)
      [32m+[0m[0m policy                            = (known after apply)
      [32m+[0m[0m receive_wait_time_seconds         = 0
      [32m+[0m[0m redrive_allow_policy              = (known after apply)
      [32m+[0m[0m redrive_policy                    = (known after apply)
      [32m+[0m[0m sqs_managed_sse_enabled           = (known after apply)
      [32m+[0m[0m tags_all                          = (known after apply)
      [32m+[0m[0m url                               = (known after apply)
      [32m+[0m[0m visibility_timeout_seconds        = 30
    }

[1m  # module.messaging.aws_sqs_queue_policy.allow_eventbridge[0m will be created
[0m  [32m+[0m[0m resource "aws_sqs_queue_policy" "allow_eventbridge" {
      [32m+[0m[0m id        = (known after apply)
      [32m+[0m[0m policy    = (known after apply)
      [32m+[0m[0m queue_url = (known after apply)
    }

[1m  # module.network.aws_cloudwatch_log_group.app_logs[0m will be created
[0m  [32m+[0m[0m resource "aws_cloudwatch_log_group" "app_logs" {
      [32m+[0m[0m arn               = (known after apply)
      [32m+[0m[0m id                = (known after apply)
      [32m+[0m[0m log_group_class   = (known after apply)
      [32m+[0m[0m name              = "/node-microservices/ec2"
      [32m+[0m[0m name_prefix       = (known after apply)
      [32m+[0m[0m retention_in_days = 14
      [32m+[0m[0m skip_destroy      = false
      [32m+[0m[0m tags_all          = (known after apply)
    }

[1m  # module.network.aws_elasticache_cluster.redis[0m will be created
[0m  [32m+[0m[0m resource "aws_elasticache_cluster" "redis" {
      [32m+[0m[0m apply_immediately          = (known after apply)
      [32m+[0m[0m arn                        = (known after apply)
      [32m+[0m[0m auto_minor_version_upgrade = "true"
      [32m+[0m[0m availability_zone          = (known after apply)
      [32m+[0m[0m az_mode                    = (known after apply)
      [32m+[0m[0m cache_nodes                = (known after apply)
      [32m+[0m[0m cluster_address            = (known after apply)
      [32m+[0m[0m cluster_id                 = "node-microservices-redis"
      [32m+[0m[0m configuration_endpoint     = (known after apply)
      [32m+[0m[0m engine                     = "redis"
      [32m+[0m[0m engine_version             = "7.0"
      [32m+[0m[0m engine_version_actual      = (known after apply)
      [32m+[0m[0m id                         = (known after apply)
      [32m+[0m[0m ip_discovery               = (known after apply)
      [32m+[0m[0m maintenance_window         = (known after apply)
      [32m+[0m[0m network_type               = (known after apply)
      [32m+[0m[0m node_type                  = "cache.t3.micro"
      [32m+[0m[0m num_cache_nodes            = 1
      [32m+[0m[0m parameter_group_name       = "default.redis7"
      [32m+[0m[0m port                       = 6379
      [32m+[0m[0m preferred_outpost_arn      = (known after apply)
      [32m+[0m[0m replication_group_id       = (known after apply)
      [32m+[0m[0m security_group_ids         = (known after apply)
      [32m+[0m[0m snapshot_window            = (known after apply)
      [32m+[0m[0m subnet_group_name          = "node-microservices-redis-subnet"
      [32m+[0m[0m tags_all                   = (known after apply)
      [32m+[0m[0m transit_encryption_enabled = (known after apply)
    }

[1m  # module.network.aws_elasticache_subnet_group.redis_subnet_group[0m will be created
[0m  [32m+[0m[0m resource "aws_elasticache_subnet_group" "redis_subnet_group" {
      [32m+[0m[0m arn         = (known after apply)
      [32m+[0m[0m description = "Managed by Terraform"
      [32m+[0m[0m id          = (known after apply)
      [32m+[0m[0m name        = "node-microservices-redis-subnet"
      [32m+[0m[0m subnet_ids  = (known after apply)
      [32m+[0m[0m tags_all    = (known after apply)
      [32m+[0m[0m vpc_id      = (known after apply)
    }

[1m  # module.network.aws_internet_gateway.igw[0m will be created
[0m  [32m+[0m[0m resource "aws_internet_gateway" "igw" {
      [32m+[0m[0m arn      = (known after apply)
      [32m+[0m[0m id       = (known after apply)
      [32m+[0m[0m owner_id = (known after apply)
      [32m+[0m[0m tags     = {
          [32m+[0m[0m "Name" = "node-microservices-igw"
        }
      [32m+[0m[0m tags_all = {
          [32m+[0m[0m "Name" = "node-microservices-igw"
        }
      [32m+[0m[0m vpc_id   = (known after apply)
    }

[1m  # module.network.aws_route_table.public[0m will be created
[0m  [32m+[0m[0m resource "aws_route_table" "public" {
      [32m+[0m[0m arn              = (known after apply)
      [32m+[0m[0m id               = (known after apply)
      [32m+[0m[0m owner_id         = (known after apply)
      [32m+[0m[0m propagating_vgws = (known after apply)
      [32m+[0m[0m route            = [
          [32m+[0m[0m {
              [32m+[0m[0m cidr_block                 = "0.0.0.0/0"
              [32m+[0m[0m gateway_id                 = (known after apply)
                [90m# (11 unchanged attributes hidden)[0m[0m
            },
        ]
      [32m+[0m[0m tags             = {
          [32m+[0m[0m "Name" = "node-microservices-public-rt"
        }
      [32m+[0m[0m tags_all         = {
          [32m+[0m[0m "Name" = "node-microservices-public-rt"
        }
      [32m+[0m[0m vpc_id           = (known after apply)
    }

[1m  # module.network.aws_route_table_association.public_assoc[0m will be created
[0m  [32m+[0m[0m resource "aws_route_table_association" "public_assoc" {
      [32m+[0m[0m id             = (known after apply)
      [32m+[0m[0m route_table_id = (known after apply)
      [32m+[0m[0m subnet_id      = (known after apply)
    }

[1m  # module.network.aws_security_group.app_sg[0m will be created
[0m  [32m+[0m[0m resource "aws_security_group" "app_sg" {
      [32m+[0m[0m arn                    = (known after apply)
      [32m+[0m[0m description            = "Allow gateway and SSH traffic"
      [32m+[0m[0m egress                 = [
          [32m+[0m[0m {
              [32m+[0m[0m cidr_blocks      = [
                  [32m+[0m[0m "0.0.0.0/0",
                ]
              [32m+[0m[0m from_port        = 0
              [32m+[0m[0m ipv6_cidr_blocks = []
              [32m+[0m[0m prefix_list_ids  = []
              [32m+[0m[0m protocol         = "-1"
              [32m+[0m[0m security_groups  = []
              [32m+[0m[0m self             = false
              [32m+[0m[0m to_port          = 0
                [90m# (1 unchanged attribute hidden)[0m[0m
            },
        ]
      [32m+[0m[0m id                     = (known after apply)
      [32m+[0m[0m ingress                = [
          [32m+[0m[0m {
              [32m+[0m[0m cidr_blocks      = [
                  [32m+[0m[0m "0.0.0.0/0",
                ]
              [32m+[0m[0m description      = "Gateway"
              [32m+[0m[0m from_port        = 8000
              [32m+[0m[0m ipv6_cidr_blocks = []
              [32m+[0m[0m prefix_list_ids  = []
              [32m+[0m[0m protocol         = "tcp"
              [32m+[0m[0m security_groups  = []
              [32m+[0m[0m self             = false
              [32m+[0m[0m to_port          = 8000
            },
          [32m+[0m[0m {
              [32m+[0m[0m cidr_blocks      = [
                  [32m+[0m[0m "0.0.0.0/0",
                ]
              [32m+[0m[0m description      = "SSH (temporary)"
              [32m+[0m[0m from_port        = 22
              [32m+[0m[0m ipv6_cidr_blocks = []
              [32m+[0m[0m prefix_list_ids  = []
              [32m+[0m[0m protocol         = "tcp"
              [32m+[0m[0m security_groups  = []
              [32m+[0m[0m self             = false
              [32m+[0m[0m to_port          = 22
            },
        ]
      [32m+[0m[0m name                   = "node-microservices-sg"
      [32m+[0m[0m name_prefix            = (known after apply)
      [32m+[0m[0m owner_id               = (known after apply)
      [32m+[0m[0m revoke_rules_on_delete = false
      [32m+[0m[0m tags                   = {
          [32m+[0m[0m "Name" = "node-microservices-sg"
        }
      [32m+[0m[0m tags_all               = {
          [32m+[0m[0m "Name" = "node-microservices-sg"
        }
      [32m+[0m[0m vpc_id                 = (known after apply)
    }

[1m  # module.network.aws_security_group.redis_sg[0m will be created
[0m  [32m+[0m[0m resource "aws_security_group" "redis_sg" {
      [32m+[0m[0m arn                    = (known after apply)
      [32m+[0m[0m description            = "Allow Redis access from EC2"
      [32m+[0m[0m egress                 = [
          [32m+[0m[0m {
              [32m+[0m[0m cidr_blocks      = [
                  [32m+[0m[0m "0.0.0.0/0",
                ]
              [32m+[0m[0m from_port        = 0
              [32m+[0m[0m ipv6_cidr_blocks = []
              [32m+[0m[0m prefix_list_ids  = []
              [32m+[0m[0m protocol         = "-1"
              [32m+[0m[0m security_groups  = []
              [32m+[0m[0m self             = false
              [32m+[0m[0m to_port          = 0
                [90m# (1 unchanged attribute hidden)[0m[0m
            },
        ]
      [32m+[0m[0m id                     = (known after apply)
      [32m+[0m[0m ingress                = [
          [32m+[0m[0m {
              [32m+[0m[0m cidr_blocks      = []
              [32m+[0m[0m from_port        = 6379
              [32m+[0m[0m ipv6_cidr_blocks = []
              [32m+[0m[0m prefix_list_ids  = []
              [32m+[0m[0m protocol         = "tcp"
              [32m+[0m[0m security_groups  = (known after apply)
              [32m+[0m[0m self             = false
              [32m+[0m[0m to_port          = 6379
                [90m# (1 unchanged attribute hidden)[0m[0m
            },
        ]
      [32m+[0m[0m name                   = "node-microservices-redis-sg"
      [32m+[0m[0m name_prefix            = (known after apply)
      [32m+[0m[0m owner_id               = (known after apply)
      [32m+[0m[0m revoke_rules_on_delete = false
      [32m+[0m[0m tags_all               = (known after apply)
      [32m+[0m[0m vpc_id                 = (known after apply)
    }

[1m  # module.network.aws_subnet.public[0m will be created
[0m  [32m+[0m[0m resource "aws_subnet" "public" {
      [32m+[0m[0m arn                                            = (known after apply)
      [32m+[0m[0m assign_ipv6_address_on_creation                = false
      [32m+[0m[0m availability_zone                              = "ap-south-1a"
      [32m+[0m[0m availability_zone_id                           = (known after apply)
      [32m+[0m[0m cidr_block                                     = "10.0.1.0/24"
      [32m+[0m[0m enable_dns64                                   = false
      [32m+[0m[0m enable_resource_name_dns_a_record_on_launch    = false
      [32m+[0m[0m enable_resource_name_dns_aaaa_record_on_launch = false
      [32m+[0m[0m id                                             = (known after apply)
      [32m+[0m[0m ipv6_cidr_block_association_id                 = (known after apply)
      [32m+[0m[0m ipv6_native                                    = false
      [32m+[0m[0m map_public_ip_on_launch                        = true
      [32m+[0m[0m owner_id                                       = (known after apply)
      [32m+[0m[0m private_dns_hostname_type_on_launch            = (known after apply)
      [32m+[0m[0m tags                                           = {
          [32m+[0m[0m "Name" = "node-microservices-public-subnet"
        }
      [32m+[0m[0m tags_all                                       = {
          [32m+[0m[0m "Name" = "node-microservices-public-subnet"
        }
      [32m+[0m[0m vpc_id                                         = (known after apply)
    }

[1m  # module.network.aws_vpc.main[0m will be created
[0m  [32m+[0m[0m resource "aws_vpc" "main" {
      [32m+[0m[0m arn                                  = (known after apply)
      [32m+[0m[0m cidr_block                           = "10.0.0.0/16"
      [32m+[0m[0m default_network_acl_id               = (known after apply)
      [32m+[0m[0m default_route_table_id               = (known after apply)
      [32m+[0m[0m default_security_group_id            = (known after apply)
      [32m+[0m[0m dhcp_options_id                      = (known after apply)
      [32m+[0m[0m enable_dns_hostnames                 = true
      [32m+[0m[0m enable_dns_support                   = true
      [32m+[0m[0m enable_network_address_usage_metrics = (known after apply)
      [32m+[0m[0m id                                   = (known after apply)
      [32m+[0m[0m instance_tenancy                     = "default"
      [32m+[0m[0m ipv6_association_id                  = (known after apply)
      [32m+[0m[0m ipv6_cidr_block                      = (known after apply)
      [32m+[0m[0m ipv6_cidr_block_network_border_group = (known after apply)
      [32m+[0m[0m main_route_table_id                  = (known after apply)
      [32m+[0m[0m owner_id                             = (known after apply)
      [32m+[0m[0m tags                                 = {
          [32m+[0m[0m "Name" = "node-microservices-vpc"
        }
      [32m+[0m[0m tags_all                             = {
          [32m+[0m[0m "Name" = "node-microservices-vpc"
        }
    }

[1m  # module.secrets.aws_secretsmanager_secret.jwt_secret[0m will be created
[0m  [32m+[0m[0m resource "aws_secretsmanager_secret" "jwt_secret" {
      [32m+[0m[0m arn                            = (known after apply)
      [32m+[0m[0m force_overwrite_replica_secret = false
      [32m+[0m[0m id                             = (known after apply)
      [32m+[0m[0m name                           = "node-microservices-jwt-secret_v2"
      [32m+[0m[0m name_prefix                    = (known after apply)
      [32m+[0m[0m policy                         = (known after apply)
      [32m+[0m[0m recovery_window_in_days        = 0
      [32m+[0m[0m tags_all                       = (known after apply)

      [32m+[0m[0m replica (known after apply)
    }

[1m  # module.secrets.aws_secretsmanager_secret.mongo_secret[0m will be created
[0m  [32m+[0m[0m resource "aws_secretsmanager_secret" "mongo_secret" {
      [32m+[0m[0m arn                            = (known after apply)
      [32m+[0m[0m force_overwrite_replica_secret = false
      [32m+[0m[0m id                             = (known after apply)
      [32m+[0m[0m name                           = "node-microservices-mongo-credentials_v2"
      [32m+[0m[0m name_prefix                    = (known after apply)
      [32m+[0m[0m policy                         = (known after apply)
      [32m+[0m[0m recovery_window_in_days        = 0
      [32m+[0m[0m tags_all                       = (known after apply)

      [32m+[0m[0m replica (known after apply)
    }

[1m  # module.secrets.aws_secretsmanager_secret.ngrok_secret[0m will be created
[0m  [32m+[0m[0m resource "aws_secretsmanager_secret" "ngrok_secret" {
      [32m+[0m[0m arn                            = (known after apply)
      [32m+[0m[0m force_overwrite_replica_secret = false
      [32m+[0m[0m id                             = (known after apply)
      [32m+[0m[0m name                           = "node-microservices-ngrok-token"
      [32m+[0m[0m name_prefix                    = (known after apply)
      [32m+[0m[0m policy                         = (known after apply)
      [32m+[0m[0m recovery_window_in_days        = 0
      [32m+[0m[0m tags_all                       = (known after apply)

      [32m+[0m[0m replica (known after apply)
    }

[1m  # module.secrets.aws_secretsmanager_secret.rabbit_secret[0m will be created
[0m  [32m+[0m[0m resource "aws_secretsmanager_secret" "rabbit_secret" {
      [32m+[0m[0m arn                            = (known after apply)
      [32m+[0m[0m force_overwrite_replica_secret = false
      [32m+[0m[0m id                             = (known after apply)
      [32m+[0m[0m name                           = "node-microservices-rabbitmq-credentials_v2"
      [32m+[0m[0m name_prefix                    = (known after apply)
      [32m+[0m[0m policy                         = (known after apply)
      [32m+[0m[0m recovery_window_in_days        = 0
      [32m+[0m[0m tags_all                       = (known after apply)

      [32m+[0m[0m replica (known after apply)
    }

[1m  # module.secrets.aws_secretsmanager_secret.redis_secret[0m will be created
[0m  [32m+[0m[0m resource "aws_secretsmanager_secret" "redis_secret" {
      [32m+[0m[0m arn                            = (known after apply)
      [32m+[0m[0m force_overwrite_replica_secret = false
      [32m+[0m[0m id                             = (known after apply)
      [32m+[0m[0m name                           = "node-microservices-redis_v2"
      [32m+[0m[0m name_prefix                    = (known after apply)
      [32m+[0m[0m policy                         = (known after apply)
      [32m+[0m[0m recovery_window_in_days        = 0
      [32m+[0m[0m tags_all                       = (known after apply)

      [32m+[0m[0m replica (known after apply)
    }

[1m  # module.secrets.aws_secretsmanager_secret_version.jwt_secret_value[0m will be created
[0m  [32m+[0m[0m resource "aws_secretsmanager_secret_version" "jwt_secret_value" {
      [32m+[0m[0m arn                  = (known after apply)
      [32m+[0m[0m has_secret_string_wo = (known after apply)
      [32m+[0m[0m id                   = (known after apply)
      [32m+[0m[0m secret_id            = (known after apply)
      [32m+[0m[0m secret_string        = (sensitive value)
      [32m+[0m[0m secret_string_wo     = (write-only attribute)
      [32m+[0m[0m version_id           = (known after apply)
      [32m+[0m[0m version_stages       = (known after apply)
    }

[1m  # module.secrets.aws_secretsmanager_secret_version.mongo_secret_value[0m will be created
[0m  [32m+[0m[0m resource "aws_secretsmanager_secret_version" "mongo_secret_value" {
      [32m+[0m[0m arn                  = (known after apply)
      [32m+[0m[0m has_secret_string_wo = (known after apply)
      [32m+[0m[0m id                   = (known after apply)
      [32m+[0m[0m secret_id            = (known after apply)
      [32m+[0m[0m secret_string        = (sensitive value)
      [32m+[0m[0m secret_string_wo     = (write-only attribute)
      [32m+[0m[0m version_id           = (known after apply)
      [32m+[0m[0m version_stages       = (known after apply)
    }

[1m  # module.secrets.aws_secretsmanager_secret_version.ngrok_secret_value[0m will be created
[0m  [32m+[0m[0m resource "aws_secretsmanager_secret_version" "ngrok_secret_value" {
      [32m+[0m[0m arn                  = (known after apply)
      [32m+[0m[0m has_secret_string_wo = (known after apply)
      [32m+[0m[0m id                   = (known after apply)
      [32m+[0m[0m secret_id            = (known after apply)
      [32m+[0m[0m secret_string        = (sensitive value)
      [32m+[0m[0m secret_string_wo     = (write-only attribute)
      [32m+[0m[0m version_id           = (known after apply)
      [32m+[0m[0m version_stages       = (known after apply)
    }

[1m  # module.secrets.aws_secretsmanager_secret_version.rabbit_secret_value[0m will be created
[0m  [32m+[0m[0m resource "aws_secretsmanager_secret_version" "rabbit_secret_value" {
      [32m+[0m[0m arn                  = (known after apply)
      [32m+[0m[0m has_secret_string_wo = (known after apply)
      [32m+[0m[0m id                   = (known after apply)
      [32m+[0m[0m secret_id            = (known after apply)
      [32m+[0m[0m secret_string        = (sensitive value)
      [32m+[0m[0m secret_string_wo     = (write-only attribute)
      [32m+[0m[0m version_id           = (known after apply)
      [32m+[0m[0m version_stages       = (known after apply)
    }

[1m  # module.secrets.aws_secretsmanager_secret_version.redis_secret_value[0m will be created
[0m  [32m+[0m[0m resource "aws_secretsmanager_secret_version" "redis_secret_value" {
      [32m+[0m[0m arn                  = (known after apply)
      [32m+[0m[0m has_secret_string_wo = (known after apply)
      [32m+[0m[0m id                   = (known after apply)
      [32m+[0m[0m secret_id            = (known after apply)
      [32m+[0m[0m secret_string        = (sensitive value)
      [32m+[0m[0m secret_string_wo     = (write-only attribute)
      [32m+[0m[0m version_id           = (known after apply)
      [32m+[0m[0m version_stages       = (known after apply)
    }

[1m  # module.secrets.random_password.jwt_secret[0m will be created
[0m  [32m+[0m[0m resource "random_password" "jwt_secret" {
      [32m+[0m[0m bcrypt_hash = (sensitive value)
      [32m+[0m[0m id          = (known after apply)
      [32m+[0m[0m length      = 32
      [32m+[0m[0m lower       = true
      [32m+[0m[0m min_lower   = 0
      [32m+[0m[0m min_numeric = 0
      [32m+[0m[0m min_special = 0
      [32m+[0m[0m min_upper   = 0
      [32m+[0m[0m number      = true
      [32m+[0m[0m numeric     = true
      [32m+[0m[0m result      = (sensitive value)
      [32m+[0m[0m special     = false
      [32m+[0m[0m upper       = true
    }

[1m  # module.secrets.random_password.mongo_password[0m will be created
[0m  [32m+[0m[0m resource "random_password" "mongo_password" {
      [32m+[0m[0m bcrypt_hash = (sensitive value)
      [32m+[0m[0m id          = (known after apply)
      [32m+[0m[0m length      = 20
      [32m+[0m[0m lower       = true
      [32m+[0m[0m min_lower   = 0
      [32m+[0m[0m min_numeric = 0
      [32m+[0m[0m min_special = 0
      [32m+[0m[0m min_upper   = 0
      [32m+[0m[0m number      = true
      [32m+[0m[0m numeric     = true
      [32m+[0m[0m result      = (sensitive value)
      [32m+[0m[0m special     = false
      [32m+[0m[0m upper       = true
    }

[1m  # module.secrets.random_password.rabbit_password[0m will be created
[0m  [32m+[0m[0m resource "random_password" "rabbit_password" {
      [32m+[0m[0m bcrypt_hash = (sensitive value)
      [32m+[0m[0m id          = (known after apply)
      [32m+[0m[0m length      = 20
      [32m+[0m[0m lower       = true
      [32m+[0m[0m min_lower   = 0
      [32m+[0m[0m min_numeric = 0
      [32m+[0m[0m min_special = 0
      [32m+[0m[0m min_upper   = 0
      [32m+[0m[0m number      = true
      [32m+[0m[0m numeric     = true
      [32m+[0m[0m result      = (sensitive value)
      [32m+[0m[0m special     = false
      [32m+[0m[0m upper       = true
    }

[1mPlan:[0m [0m69 to add, 0 to change, 0 to destroy.

Changes to Outputs:
  [32m+[0m[0m instance_name  = "node-microservices-ec2"
  [32m+[0m[0m public_ip      = (known after apply)
  [32m+[0m[0m redis_endpoint = (known after apply)
[90m
─────────────────────────────────────────────────────────────────────────────[0m

Note: You didn't use the -out option to save this plan, so Terraform can't
guarantee to take exactly these actions if you run "terraform apply" now.
